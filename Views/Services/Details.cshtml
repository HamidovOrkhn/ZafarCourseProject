@model ZafarCoursesWebApp.Areas.Admin.Models.Service

@{ Layout = "~/Views/Shared/_Layout.cshtml"; }

<section class="page__title-area pt-120 pb-90">
    <div class="page__title-shape">
        <img class="page-title-shape-5 d-none d-sm-block" src="~/assets/img/page-title/page-title-shape-1.png" alt="">
        <img class="page-title-shape-7" src="~/assets/img/page-title/page-title-shape-4.png" alt="">
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xxl-8 col-xl-8 col-lg-8">
                <div class="course__wrapper">
                    <div class="page__title-content mb-25">
                        <div class="page__title-breadcrumb">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                    <li class="breadcrumb-item"><a href="course-grid.html">Courses</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">@Model.ServiceInfo.Header</li>
                                </ol>
                            </nav>
                        </div>
                        <span class="page__title-pre">@Model.Name</span>
                        <h5 class="page__title-3 post-title">@Model.ServiceInfo.Header</h5>
                    </div>
                    @if (Model.Teachers is object)
                    {
        @if (Model.Teachers.Count > 0)
        {
<div class="course__meta-2 d-sm-flex mb-30">
    <div class="course__teacher-3 d-flex align-items-center mr-70 mb-30">
        <div class="course__teacher-thumb-3 mr-15">
            <img src="~/uploads/@Model.Teachers.FirstOrDefault().PictureSource" alt="">
        </div>
        <div class="course__teacher-info-3">
            <h5>Müəllim</h5>
            <p><a href="#">@Model.Teachers.FirstOrDefault().Name @Model.Teachers.FirstOrDefault().Surname</a></p>
        </div>
    </div>
</div>} } @*<div class="course__update mr-80 mb-30">
                <h5>Last Update:</h5>
                <p>July 24, 2022</p>
            </div>
            <div class="course__rating-2 mb-30">
                <h5>Review:</h5>
                <div class="course__rating-inner d-flex align-items-center">
                    <ul>
                        <li><a href="#"> <i class="icon_star"></i> </a></li>
                        <li><a href="#"> <i class="icon_star"></i> </a></li>
                        <li><a href="#"> <i class="icon_star"></i> </a></li>
                        <li><a href="#"> <i class="icon_star"></i> </a></li>
                        <li><a href="#"> <i class="icon_star"></i> </a></li>
                    </ul>
                    <p>4.5</p>
                </div>
            </div>*@
                </div>
                <div class="course__img w-img mb-30">
                    <img class="post-img" src="~/uploads/@Model.ServicePicture" alt="">
                </div>
                <div class="course__tab-2 mb-45">
                    <ul class="nav nav-tabs" id="courseTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab" aria-controls="description" aria-selected="true"> <i class="icon_ribbon_alt"></i> <span>Məlumat</span> </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link " id="curriculum-tab" data-bs-toggle="tab" data-bs-target="#curriculum" type="button" role="tab" aria-controls="curriculum" aria-selected="false"> <i class="icon_book_alt"></i> <span>Kurikulum</span> </button>
                        </li>
                        @*<li class="nav-item" role="presentation">
                                <button class="nav-link" id="review-tab" data-bs-toggle="tab" data-bs-target="#review" type="button" role="tab" aria-controls="review" aria-selected="false"> <i class="icon_star_alt"></i> <span>Reviews</span> </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="member-tab" data-bs-toggle="tab" data-bs-target="#member" type="button" role="tab" aria-controls="member" aria-selected="false"> <i class="fal fa-user"></i> <span>Members</span> </button>
                            </li>*@
                    </ul>
                </div>
                <div class="course__tab-content mb-95">
                    <div class="tab-content" id="courseTabContent">
                        <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
                            <div class="course__description" style=" word-wrap: break-word; width: 100%;">
                                <h3>Kurs haqqında</h3>
                                <p>@Html.Raw(Model.ServiceInfo.Body)</p>

                                <div class="course__tag-2 mb-35 mt-35">
                                    <i class="fal fa-tag"></i>
                                    <a href="#">@Model.Name</a>
                                </div>
                                @*<div class="course__description-list mb-45">
                                        <h4>What is the Target Audience?</h4>
                                        <ul>
                                            <li> <i class="icon_check"></i> Business's managers, leaders</li>
                                            <li> <i class="icon_check"></i> Downloadable lectures, code and design assets for all projects</li>
                                            <li> <i class="icon_check"></i> Anyone who is finding a chance to get the promotion</li>
                                        </ul>
                                    </div>*@
                                <div class="course__instructor mb-45">
                                    <h3>Müəllimlər</h3>
                                    <div class="course__instructor-wrapper d-md-flex align-items-center">
                                        @foreach (var item in Model.Teachers)
                                        {
                            <div class="course__instructor-item d-flex align-items-center mr-70">
                                <div class="course__instructor-thumb mr-20">
                                    <img src="~/uploads/@item.PictureSource" alt="">
                                </div>
                                <div class="course__instructor-content">
                                    <h3>@item.Name @item.Surname</h3>
                                    <p>@item.Category.Name</p>
                                </div>
                            </div>}

                                        @*<div class="course__instructor-item d-flex align-items-center mr-70">
                                                <div class="course__instructor-thumb mr-20">
                                                    <img src="assets/img/course/teacher/teacher-2.jpg" alt="">
                                                </div>
                                                <div class="course__instructor-content">
                                                    <h3>Lauren Stamps</h3>
                                                    <p>Teacher</p>
                                                </div>
                                            </div>
                                            <div class="course__instructor-item d-flex align-items-center mr-70">
                                                <div class="course__instructor-thumb mr-20">
                                                    <img src="assets/img/course/teacher/teacher-1.jpg" alt="">
                                                </div>
                                                <div class="course__instructor-content">
                                                    <h3>Jonquil Von</h3>
                                                    <p>Associate</p>
                                                </div>
                                            </div>*@
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="curriculum" role="tabpanel" aria-labelledby="curriculum-tab">
                            <div class="course__curriculum">
                                @foreach (var item in Model.Lectures)
                                {
                    <div class="accordion">
                        <div class="accordion-item mb-50">
                            <h2 class="accordion-header" id="week-@item.Id">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#week-@item.Id-content" aria-expanded="true" aria-controls="week-@item.Id-content">
                                    @item.Name
                                </button>
                            </h2>
                            <div id="week-@item.Id-content" class="accordion-collapse collapse show" aria-labelledby="week-@item.Id" data-bs-parent="#course__accordion" style="">
                                <div class="accordion-body">
                                    @if (item.LectureParticles.Count > 0)
                                    {
                    @for (int i = 0; i < item.LectureParticles.Count; i++)
                    {
<div class="course__curriculum-content d-sm-flex justify-content-between align-items-center">
    <div class="course__curriculum-info">
        <svg class="document" viewBox="0 0 24 24">
            <path class="st0" d="M14,2H6C4.9,2,4,2.9,4,4v16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8L14,2z"></path>
            <polyline class="st0" points="14,2 14,8 20,8 "></polyline>
            <line class="st0" x1="16" y1="13" x2="8" y2="13"></line>
            <line class="st0" x1="16" y1="17" x2="8" y2="17"></line>
            <polyline class="st0" points="10,9 9,9 8,9 "></polyline>
        </svg>
        <h3> <span>@(i+1) Part: </span> @item.LectureParticles[i].Name</h3>
    </div>
    @*<div class="course__curriculum-meta">
            <span class="time"> <i class="icon_clock_alt"></i> 14 minutes</span>
            <span class="question">2 questions</span>
        </div>*@
</div>}}
                                </div>
                            </div>
                        </div>
                    </div>}
                            </div>
                        </div>


                        <div class="course__share">
                            <h3>Paylaş :</h3>
                            <ul>
                                <li><a style="cursor:pointer" class="fb"><i class="social_facebook"></i></a></li>
                                <li><a style="cursor:pointer" class="tw"><i class="social_twitter"></i></a></li>
                                <li><a style="cursor:pointer" class="pin"><i class="social_pinterest"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="course__related">
                    <div class="row">
                        <div class="col-xxl-12">
                            <div class="section__title-wrapper mb-40">
                                <h2 class="section__title">Digər <span class="yellow-bg yellow-bg-big">Kurslar<img src="assets/img/shape/yellow-bg.png" alt=""></span></h2>
                                <p>Digər kurslara müraciət üçün qaynar xəttimizlə əlaqə saxlayın.</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-12">
                            <div class="course__slider swiper-container pb-60 swiper-container-initialized swiper-container-horizontal swiper-container-pointer-events">
                                <div class="swiper-wrapper" id="swiper-wrapper-85f88546d248ff09" aria-live="polite" style="transform: translate3d(0px, 0px, 0px);">
                                    @await Component.InvokeAsync("SliderServices")
                                </div>
                                <!-- Add Pagination -->
                                <div class="swiper-pagination swiper-pagination-clickable swiper-pagination-bullets"><span class="swiper-pagination-bullet swiper-pagination-bullet-active" tabindex="0" role="button" aria-label="Go to slide 1"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 2"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 3"></span></div>
                                <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xxl-4 col-xl-4 col-lg-4">
                <div class="course__sidebar pl-70 p-relative">
                    <div class="course__shape">
                        <img class="course-dot" src="assets/img/course/course-dot.png" alt="">
                    </div>
                    <div class="course__sidebar-widget-2 white-bg mb-20">
                        <div class="course__video">
                            @*<div class="course__video-thumb w-img mb-25">
                                    <img src="assets/img/course/video/course-video.jpg" alt="">
                                    <div class="course__video-play">
                                        <a href="https://youtu.be/yJg-Y5byMMw" data-fancybox="" class="play-btn"> <i class="fas fa-play"></i> </a>
                                    </div>
                                </div>*@
                            <div class="course__video-meta mb-25 d-flex align-items-center justify-content-between">
                                <div class="course__video-price">
                                    <h5>Detallar</h5>
                                </div>
                                @*<div class="course__video-discount">
                                        <span>68% OFF</span>
                                    </div>*@
                            </div>
                            <div class="course__video-content mb-35">
                                <ul>
                                    <li class="d-flex align-items-center">
                                        <div class="course__video-icon">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve">
                                            <path class="st0" d="M2,6l6-4.7L14,6v7.3c0,0.7-0.6,1.3-1.3,1.3H3.3c-0.7,0-1.3-0.6-1.3-1.3V6z"></path>
                                            <polyline class="st0" points="6,14.7 6,8 10,8 10,14.7 "></polyline>
                                          </svg>
                                        </div>
                                        <div class="course__video-info">
                                            <h5><span>Müəllim :</span>@Model.Teachers.FirstOrDefault().Name @Model.Teachers.FirstOrDefault().Surname</h5>
                                        </div>
                                    </li>
                                    <li class="d-flex align-items-center">
                                        <div class="course__video-icon">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve">
                                             
                                            <path class="st0" d="M4,19.5C4,18.1,5.1,17,6.5,17H20"></path>
                                            <path class="st0" d="M6.5,2H20v20H6.5C5.1,22,4,20.9,4,19.5v-15C4,3.1,5.1,2,6.5,2z"></path>
                                          </svg>
                                        </div>
                                        <div class="course__video-info">
                                            <h5><span>Dərs sayı :</span>@Model.ServiceInfo.LectureCount</h5>
                                        </div>
                                    </li>
                                    <li class="d-flex align-items-center">
                                        <div class="course__video-icon">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve">
                                            <circle class="st0" cx="8" cy="8" r="6.7"></circle>
                                            <polyline class="st0" points="8,4 8,8 10.7,9.3 "></polyline>
                                          </svg>
                                        </div>
                                        <div class="course__video-info">
                                            <h5><span>Müddət :</span>@Model.ServiceInfo.WeekCount</h5>
                                        </div>
                                    </li>
                                    <li class="d-flex align-items-center">
                                        <div class="course__video-icon">
                                            <svg>
                                                <path class="st0" d="M13.3,14v-1.3c0-1.5-1.2-2.7-2.7-2.7H5.3c-1.5,0-2.7,1.2-2.7,2.7V14"></path>
                                                <circle class="st0" cx="8" cy="4.7" r="2.7"></circle>
                                            </svg>
                                        </div>
                                        <div class="course__video-info">
                                            <h5><span>Ümumi saat :</span>@Model.ServiceInfo.LectureHour</h5>
                                        </div>
                                    </li>
                                    @*<li class="d-flex align-items-center">
                                            <div class="course__video-icon">
                                                <svg>
                                                    <circle class="st0" cx="8" cy="8" r="6.7"></circle>
                                                    <line class="st0" x1="1.3" y1="8" x2="14.7" y2="8"></line>
                                                    <path class="st0" d="M8,1.3c1.7,1.8,2.6,4.2,2.7,6.7c-0.1,2.5-1,4.8-2.7,6.7C6.3,12.8,5.4,10.5,5.3,8C5.4,5.5,6.3,3.2,8,1.3z"></path>
                                                </svg>
                                            </div>
                                            <div class="course__video-info">
                                                <h5><span>Language :</span>English</h5>
                                            </div>
                                        </li>*@
                                </ul>
                            </div>
                            @*<div class="course__payment mb-35">
                                    <h3>Payment:</h3>
                                    <a href="#">
                                        <img src="assets/img/course/payment/payment-1.png" alt="">
                                    </a>
                                </div>
                                <div class="course__enroll-btn">
                                    <a href="contact.html" class="e-btn e-btn-7 w-100">Enroll <i class="far fa-arrow-right"></i></a>
                                </div>*@
                        </div>
                    </div>
                    <div class="course__sidebar-widget-2 white-bg mb-20">
                        <div class="course__sidebar-course">
                            <h3 class="course__sidebar-title">Digər Kurslarımız</h3>
                            <ul>
                                @await Component.InvokeAsync("ServicesExtended")

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@section Scripts{
    <script>
        const facebookBtn = document.querySelector(".fb");
        const twitterBtn = document.querySelector(".tw");
        const pinterestBtn = document.querySelector(".pin");

        function init() {
            const pinterestImg = document.querySelector(".post-img");

            let postUrl = encodeURI(document.location.href);
            let postTitle = encodeURI($(".post-title").text());
            let postImg = encodeURI(pinterestImg.src);

            facebookBtn.setAttribute(
                "href",
                `https://www.facebook.com/sharer.php?u=${postUrl}`
            );

            twitterBtn.setAttribute(
                "href",
                `https://twitter.com/share?url=${postUrl}&text=${postTitle}`
            );

            pinterestBtn.setAttribute(
                "href",
                `https://pinterest.com/pin/create/bookmarklet/?media=${postImg}&url=${postUrl}&description=${postTitle}`
            );

            //linkedinBtn.setAttribute(
            //    "href",
            //    `https://www.linkedin.com/shareArticle?url=${postUrl}&title=${postTitle}`
            //);

            //whatsappBtn.setAttribute(
            //    "href",
            //    `https://wa.me/?text=${postTitle} ${postUrl}`
            //);
        }

        init();
    </script>
}